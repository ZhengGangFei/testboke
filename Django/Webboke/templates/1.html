<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
　　<title>利匈HTML贋云仇</title>
　　<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
　　<iframe id="viewPage" src="template.html" width="100%" height="100%" frameborder="0" style="overflow-y: auto;"></iframe>
　　<a href="#">隠贋猟周</a>
　　<script>
　　　　function fake_click(obj) {
　　　　　　var ev = document.createEvent("MouseEvents");
　　　　　　ev.initMouseEvent(
　　　　　　　　"click", true, false, window, 0, 0, 0, 0, 0
　　　　　　　　, false, false, false, false, 0, null
　　　　　　);
　　　　　　obj.dispatchEvent(ev);
　　　　}

　　　　function export_raw(name, data) {
　　　　　　var urlObject = window.URL || window.webkitURL || window;

　　　　　　var export_blob = new Blob([data]);

　　　　　　var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
　　　　　　save_link.href = urlObject.createObjectURL(export_blob);
　　　　　　save_link.download = name;
　　　　　　fake_click(save_link);
　　　　}
　　　　window.onload = function(){
　　　　　　//資函iframe戦中議侭嗤html
　　　　　　this.test=$("#viewPage").contents().find("html").html();
　　　　　　//資函云匈中議侭嗤html
　　　　　　// var test=document.getElementsByTagName('html')[0].outerHTML;
　　　　　　console.log(test);
　　　　}
　　　　$('a').click(function() {
　　　　　　export_raw('test.html', test);
　　　　});
　　</script>
</body>
</html>